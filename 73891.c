static void airspy_urb_complete(struct urb *urb) struct airspy * s = urb -> context ; struct airspy_frame_buf * fbuf ; switch ( urb -> status )  if ( likely ( urb -> actual_length > 0 ) )  void * ptr ; unsigned int len ; fbuf = airspy_get_next_fill_buf ( s ); static struct airspy_frame_buf *airspy_get_next_fill_buf(struct airspy *s) struct airspy_frame_buf * buf = NULL ; if ( list_empty ( & s -> queued_bufs ) )  buf = list_entry ( s -> queued_bufs . next struct airspy_frame_buf , list ) return buf ; if ( unlikely ( fbuf == NULL ) )  ptr = vb2_plane_vaddr ( & fbuf -> vb . vb2_buf , 0 ); len = airspy_convert_stream ( s , ptr , urb -> transfer_buffer , urb -> actual_length ); static unsigned int airspy_convert_stream(struct airspy void *dst, void *src, unsigned int src_len) if ( s -> pixelformat == V4L2_SDR_FMT_RU12LE )  memcpy ( dst , src , src_len ); 