static void fw_cfg_machine_reset(void *opaque) void * ptr ; size_t len ; FWCfgState * s = opaque ; char * bootindex = get_boot_devices_list ( & len , false ) ; ptr = fw_cfg_modify_file ( s , "bootorder" , ( uint8_t * ) bootindex , len ); void *fw_cfg_modify_file(FWCfgState *s, const char void *data, size_t len) int i , index ; index = be32_to_cpu ( s -> files -> count ); for (i = 0; i < index; i++) if ( strcmp ( filename , s -> files -> f [ i ] . name ) == 0 )  ptr = fw_cfg_modify_bytes_read ( s , FW_CFG_FILE_FIRST + i , data , len ); static void *fw_cfg_modify_bytes_read(FWCfgState *s, uint16_t void *data, size_t len) key &= FW_CFG_ENTRY_MASK; assert ( key < FW_CFG_MAX_ENTRY && len < UINT32_MAX ); 